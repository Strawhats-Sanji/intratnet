<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Summit Bank Limited | Account Opening Feedback Form | Beyond Numbers...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <link rel="icon" href="https://res.cloudinary.com/netpoc-inc/image/upload/v1748184688/Logo_1_trmpwd.png" />
  <style>
    .main-container {
      flex-grow: 1;
      padding-top: 40px;
      padding-bottom: 40px;
    }
    .step {
      display: none;
    }
    .step.active {
      display: block;
    }
    .navbar-brand img {
      height: 90px;
    }
    footer {
      background-color: #AF1F23;
      color: white;
      padding: 20px 0;
      text-align: center;
    }
    footer a {
      color: #ffc107;
    }
    body {
      background-color: #f8f9fa;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
  </style>
</head>
<body>
   <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
<div class="container">
<a class="navbar-brand" href="/">
<img src="https://res.cloudinary.com/netpoc-inc/image/upload/v1748184676/summit_logo_awmixv.png" alt="Summit Bank Logo" />
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse justify-content-lg-end justify-content-center text-center" id="navbarNav">
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
<li class="nav-item"><a class="nav-link" href="/validation.html">NIN Validation</a></li>
<li class="nav-item active"><a class="nav-link" href="/feedback.html">Feedback</a></li>
</ul>
</div>
</div>
</nav>
  <div class="container main-container py-5">
    <div class="row justify-content-center">
      <div class="col-12 col-sm-10 col-md-8 col-lg-6">
        <h3 class="mb-4 text-center" style="font-size: 36px;">Customer Feedback Form</h3>
 
        <form id="multiStepForm">
          <!-- Step 1 -->
          <div class="step active" id="step1">
            <div class="mb-3">
          <label for="fullName" class="form-label" required>Full Name</label>
          <input class="form-control" type="text" placeholder="Enter Full Name" class="form-control" id="firstName" required>
        </div>
       
        <div class="mb-3">
            <label class="form-label" for="rating">Overall Customer Experience:</label>
            <div>
                <select class="form-select" id="rating" name="rating" required>
                <option value="">-- Select --</option>
                <option value="Excellent">Excellent</option>
                <option value="Very Good">Very Good</option>
                <option value="Good">Good</option>
                <option value="Fair">Fair</option>
                <option value="Poor">Poor</option>
            </select>
            </div>  
        </div>
        <div class="mb-3">
            <label class="form-label">How Seamless Was The Account Opening Process </label>
            <div>
                <textarea placeholder="Describe your experience here..." rows="3" class="form-control" name="opening_process"></textarea>
            </div>
        </div>
        <!-- First Select: Yes/No -->
        <div class="mb-3">
            <label for="optionSelect" class="form-label">Did You Get A Notiication When Your Account Was Opened?</label>
            <select required name="notification" class="form-select" id="optionSelect" onchange="toggleFollowUp()">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            </select>
        </div>
 
        <!-- Second Select: Shown only if "No" is selected -->
        <div class="mb-3" id="followUpSelectWrapper" style="display: None;">
            <label for="alert_source" class="form-label">If Yes Kindly Indicate If It Was Recieved Via Sms Or Email</label>
            <select class="form-select" id="alert_source">
            <option value="">-- Select --</option>
            <option value="SMS">SMS</option>
            <option value="Email">Email</option>
            <option value="SMS & Email">SMS & Email</option>
            </select>
        </div>
        <div class="mb-3">
              <label class="form-label" for="agreement">Was Your Name Arrangement In The Correct Order? </label>
                <div>
                    <select class="form-select" id="agreement" name="name_arrangement" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                </div>
            </div>
            <div class="mb-3">
              <label class="form-label" for="transaction">Were You Able To Do Any Transaction On Your Account? If Yes, Please Indicate Transaction Type </label>
       
                <div>
                    <label class="form-label"><input type="checkbox"> Deposits  </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Withdrawals  </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Transfers  </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Bills Payments  </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Loans and Credits  </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Foreign Exchange Transaction  </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Fees And Services Charges   </label>
                </div>
                <div>
                    <label class="form-label"><input type="checkbox"> Interest Payment  </label>
                </div>
            </div>
            <i class="fa-solid fa-chevron-right"></i>
            <div class="d-grid">
              <button style="background-color: #AF1F23; color: aliceblue;" type="button" class="btn btn-light btn-lg" onclick="nextStep()">Next <i class="bi bi-chevron-right ms-2"></i></button>
            </div>
          </div>
 
          <!-- Step 2 -->
          <div class="step" id="step2">            
            <div class="mb-3">
                <label for="account">Were You Able To Carry Out Own Account Transfers? If Yes, Were You Chareged For This Service? </label>
                <div>
                    <select class="form-select" id="account" name="ACCOUNT" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="observation">Are There Any Observation From The Transaction /Service To Be Modified?</label>
                <div>
                    <select class="form-select" id="observation" name="OBSERVATION" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                    <option value="Maybe">Maybe</option>
                </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="number">Was Your Account Number Masked In Your Transaction Alert?</label>
                <div>
                    <select class="form-select" id="number" name="NUMBER" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>      
                </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="captured">Was Your Transaction Description Correctly Captured In The Transaction Alert?</label>
                <select class="form-select" id="captured" name="CAPTURED" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>      
                </select>
            </div>
            <div class="mb-3">
                <label for="balance">Did You Get Your Account Balance In The Correct Currency Of The Transaction?</label>
                <div>
                    <select class="form-select" id="balance" name="BALANCE" required>
                        <option value="">-- Select --</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>      
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="position">Does Your Current Balance Reflect The True Position Of Your Account Or Are There Discrepancies In Your Balances.</label>
                <div>
                    <select class="form-select" id="position" name="POSITION" required>
                    <option value="">-- Select --</option>
                    <option value="Yes It Does">Yes It Does</option>
                    <option value="No It Doesn't">No It Doesn't</option>      
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="charges">After Consummating A Transaction, Were All The Charges Captured In Your Transaction Alert?</label>
                <select class="form-select" id="charges" name="CHARGES" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>      
                </select>
            </div>
            <div class="mb-3">
                <label for="overdraw">Were You Able To Perform A Transaction Higher Than Your Current Balance(Overdraw Your Account) </label>
                <select class="form-select" id="overdraw" name="OVERDRAW" required>
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>      
                </select>
            </div>
            <div class="mb-3">
                <label>Provide Any Comments To Any Other Outcome Not Mentioned Or Recommendation</label>
                <textarea rows="3" placeholder="Please enter your comments here..." class="form-control" name="comments"></textarea>
            </div>
            <div class="d-flex justify-content-between">
              <button type="button" class="btn btn-secondary btn-lg" onclick="prevStep()">Back</button>
              <button style="background-color: #AF1F23; color: aliceblue;" type="submit" class="btn btn-lg">Submit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
<footer>
<p class="mb-1">&copy; 2025 Summit Bank Ltd. All rights reserved.</p>
<p class="mb-0">Contact: <a href="mailto:support@summitbankng.com">support@summitbankng.com</a></p>
</footer>

<!-- Loading Modal -->
<div class="modal fade" id="loadingModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-transparent border-0 text-center">
      <div class="spinner-border text-danger" role="status" style="width: 4rem; height: 4rem;"></div>
      <div class="mt-3 text-dark fw-bold">Submitting your feedback...</div>
    </div>
  </div>
</div>

<!-- Status Modal -->
<div class="modal fade" id="statusModal" tabindex="-1" aria-labelledby="statusModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-header">
        <h5 class="modal-title w-100" id="statusModalLabel">Submission Status</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="statusMessage"></div>
      <div class="modal-footer justify-content-center">
        <button style="background-color: #AF1F23; color: aliceblue;" type="button" class="btn btn-light" data-bs-dismiss="modal" onclick="closeModal()">Close</button>
      </div>
    </div>
  </div>
</div>
 
<!-- Required Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
let currentStep = 1;

function showStep(step) {
  document.querySelectorAll('.step').forEach((el) => el.classList.remove('active'));
  document.getElementById('step' + step).classList.add('active');
}

function nextStep() {
  currentStep++;
  showStep(currentStep);
}

function prevStep() {
  currentStep--;
  showStep(currentStep);
}

function toggleFollowUp() {
  const mainSelect = document.getElementById('optionSelect');
  const followUp = document.getElementById('followUpSelectWrapper');
  followUp.style.display = mainSelect.value === 'Yes' ? 'block' : 'none';
}


// Bootstrap modal instances
const loadingModal = new bootstrap.Modal(document.getElementById('loadingModal'));
const statusModal = new bootstrap.Modal(document.getElementById('statusModal'));

document.getElementById('multiStepForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  loadingModal.show();

  const formData = {
    fullName: document.getElementById('firstName').value,
    overall_expirence: document.getElementById('rating').value,
    account_opening_process: document.querySelector('[name="opening_process"]').value,
    notification_received: document.getElementById('optionSelect').value,
    notification_medium: document.getElementById('alert_source')?.value || '',
    name_arrangement_correct: document.getElementById('agreement').value,
    own_transaction_types: Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.parentElement.innerText.trim()),
    own_account_transfer_possible: document.getElementById('account').value,
    transaction_observation: document.getElementById('observation').value,
    account_number_masked: document.getElementById('number').value,
    transaction_Description_captured: document.getElementById('captured').value,
    correct_currency: document.getElementById('balance').value,
    balance_reflects_true_position: document.getElementById('position').value,
    charges_captured: document.getElementById('charges').value,
    overdrawn: document.getElementById('overdraw').value,
    comments: document.querySelector('[name="comments"]').value
  };

  try {
    const res = await fetch('/submit-feedback', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });

    const result = await res.json();
    loadingModal.hide();

    document.getElementById('statusMessage').innerText = result.status || 'Feedback submitted successfully.';
    statusModal.show();

    document.getElementById('multiStepForm').reset();
    showStep(1); // return to first step
  } catch (err) {
    loadingModal.hide();
    document.getElementById('statusMessage').innerText = 'Something went wrong. Please try again.';
    statusModal.show();
  }
});

function closeModal() {
  loadingModal.hide();
}
</script>

</body>
</html>